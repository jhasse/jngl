<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>JNGL: VideoRecorder Class Reference</title>
<link rel="icon" href="favicon.ico" type="image/x-icon" />
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="extra.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="jngl-logo.svg"/></td>
  <td id="projectalign">
   <div id="projectname">JNGL
   </div>
   <div id="projectbrief">Easy to use cross-platform 2D game library</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',false);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacejngl.html">jngl</a></li><li class="navelem"><a class="el" href="classjngl_1_1VideoRecorder.html">VideoRecorder</a></li>  </ul>
</div>
</div><!-- top -->
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classjngl_1_1VideoRecorder-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">VideoRecorder Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Records video and audio output to a file.  
 <a href="#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="VideoRecorder_8hpp_source.html">jngl/record/VideoRecorder.hpp</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a06d5c2c5fc617f687418f79fda08954d" id="r_a06d5c2c5fc617f687418f79fda08954d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a06d5c2c5fc617f687418f79fda08954d">VideoRecorder</a> (<a class="elRef" href="http://en.cppreference.com/w/cpp/string/basic_string_view.html">std::string_view</a> filename, bool lossless=false)</td></tr>
<tr class="memdesc:a06d5c2c5fc617f687418f79fda08954d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a new video recorder that writes to the specified file (saved in your data/ directory).  <br /></td></tr>
<tr class="separator:a06d5c2c5fc617f687418f79fda08954d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0be30f46baf034cd35917944a16c7757" id="r_a0be30f46baf034cd35917944a16c7757"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0be30f46baf034cd35917944a16c7757">~VideoRecorder</a> () override</td></tr>
<tr class="memdesc:a0be30f46baf034cd35917944a16c7757"><td class="mdescLeft">&#160;</td><td class="mdescRight">Finalizes and closes the video file.  <br /></td></tr>
<tr class="separator:a0be30f46baf034cd35917944a16c7757"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7cdca568a3179ef265c0dcb8fc127852" id="r_a7cdca568a3179ef265c0dcb8fc127852"><td class="memItemLeft" align="right" valign="top"><a id="a7cdca568a3179ef265c0dcb8fc127852" name="a7cdca568a3179ef265c0dcb8fc127852"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>VideoRecorder</b> (const <a class="el" href="classjngl_1_1VideoRecorder.html">VideoRecorder</a> &amp;)=delete</td></tr>
<tr class="separator:a7cdca568a3179ef265c0dcb8fc127852"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae5a945d9f995fd6c9a5c86d31adb956b" id="r_ae5a945d9f995fd6c9a5c86d31adb956b"><td class="memItemLeft" align="right" valign="top"><a id="ae5a945d9f995fd6c9a5c86d31adb956b" name="ae5a945d9f995fd6c9a5c86d31adb956b"></a>
<a class="el" href="classjngl_1_1VideoRecorder.html">VideoRecorder</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>operator=</b> (const <a class="el" href="classjngl_1_1VideoRecorder.html">VideoRecorder</a> &amp;)=delete</td></tr>
<tr class="separator:ae5a945d9f995fd6c9a5c86d31adb956b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7820fda1ef8df2cdce750bedd57fe16f" id="r_a7820fda1ef8df2cdce750bedd57fe16f"><td class="memItemLeft" align="right" valign="top"><a id="a7820fda1ef8df2cdce750bedd57fe16f" name="a7820fda1ef8df2cdce750bedd57fe16f"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>VideoRecorder</b> (<a class="el" href="classjngl_1_1VideoRecorder.html">VideoRecorder</a> &amp;&amp;)=delete</td></tr>
<tr class="separator:a7820fda1ef8df2cdce750bedd57fe16f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ac90de87c31bc62511b75ab15d9c226" id="r_a8ac90de87c31bc62511b75ab15d9c226"><td class="memItemLeft" align="right" valign="top"><a id="a8ac90de87c31bc62511b75ab15d9c226" name="a8ac90de87c31bc62511b75ab15d9c226"></a>
<a class="el" href="classjngl_1_1VideoRecorder.html">VideoRecorder</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>operator=</b> (<a class="el" href="classjngl_1_1VideoRecorder.html">VideoRecorder</a> &amp;&amp;)=delete</td></tr>
<tr class="separator:a8ac90de87c31bc62511b75ab15d9c226"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a84bb6359e9cd31e5bd4e7a870a459484" id="r_a84bb6359e9cd31e5bd4e7a870a459484"><td class="memItemLeft" align="right" valign="top"><a id="a84bb6359e9cd31e5bd4e7a870a459484" name="a84bb6359e9cd31e5bd4e7a870a459484"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>fillAudioBuffer</b> (<a class="elRef" href="http://en.cppreference.com/w/cpp/memory/unique_ptr.html">std::unique_ptr</a>&lt; float[]&gt; samples)</td></tr>
<tr class="memdesc:a84bb6359e9cd31e5bd4e7a870a459484"><td class="mdescLeft">&#160;</td><td class="mdescRight">Assumes 44.1 kHz, stereo audio input and getting called exactly <a class="el" href="namespacejngl.html#a06943dd8adf8a3d0ef639620df5dcad2" title="How many times Work::step is called per second (default: 60)">getStepsPerSecond()</a> times per second. <br /></td></tr>
<tr class="separator:a84bb6359e9cd31e5bd4e7a870a459484"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae6c526798a490afe221d1447f508f16a" id="r_ae6c526798a490afe221d1447f508f16a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae6c526798a490afe221d1447f508f16a">step</a> () override</td></tr>
<tr class="memdesc:ae6c526798a490afe221d1447f508f16a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Advance the game logic.  <br /></td></tr>
<tr class="separator:ae6c526798a490afe221d1447f508f16a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a35460413b5c663cd8a28ad3c80caaf71" id="r_a35460413b5c663cd8a28ad3c80caaf71"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a35460413b5c663cd8a28ad3c80caaf71">draw</a> () const override</td></tr>
<tr class="memdesc:a35460413b5c663cd8a28ad3c80caaf71"><td class="mdescLeft">&#160;</td><td class="mdescRight">Draw the game state.  <br /></td></tr>
<tr class="separator:a35460413b5c663cd8a28ad3c80caaf71"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classjngl_1_1Job"><td colspan="2" onclick="javascript:dynsection.toggleInherit('pub_methods_classjngl_1_1Job')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classjngl_1_1Job.html">Job</a></td></tr>
<tr class="memitem:a297e04a8ffb86a98eb276fd3b838e425 inherit pub_methods_classjngl_1_1Job" id="r_a297e04a8ffb86a98eb276fd3b838e425"><td class="memItemLeft" align="right" valign="top">
virtual void&#160;</td><td class="memItemRight" valign="bottom"><b>onFileDrop</b> (const <a class="elRef" href="http://en.cppreference.com/w/cpp/filesystem/path.html">std::filesystem::path</a> &amp;)</td></tr>
<tr class="memdesc:a297e04a8ffb86a98eb276fd3b838e425 inherit pub_methods_classjngl_1_1Job"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called when a file has been dropped onto the window. <br /></td></tr>
<tr class="separator:a297e04a8ffb86a98eb276fd3b838e425 inherit pub_methods_classjngl_1_1Job"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a266cd76ff1ed7b753a12f4ded13f44c6 inherit pub_methods_classjngl_1_1Job" id="r_a266cd76ff1ed7b753a12f4ded13f44c6"><td class="memItemLeft" align="right" valign="top">
virtual void&#160;</td><td class="memItemRight" valign="bottom"><b>onControllersChanged</b> ()</td></tr>
<tr class="memdesc:a266cd76ff1ed7b753a12f4ded13f44c6 inherit pub_methods_classjngl_1_1Job"><td class="mdescLeft">&#160;</td><td class="mdescRight">Whenever the return value of <a class="el" href="namespacejngl.html#ad178a38cc5f90ca8047e07693d39ac6a" title="Returns all controllers (gamepads) that are connected.">jngl::getConnectedControllers</a> would change, this method gets called. <br /></td></tr>
<tr class="separator:a266cd76ff1ed7b753a12f4ded13f44c6 inherit pub_methods_classjngl_1_1Job"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad3919dba75c4130c8b6dd0ab31e9a461 inherit pub_methods_classjngl_1_1Job" id="r_ad3919dba75c4130c8b6dd0ab31e9a461"><td class="memItemLeft" align="right" valign="top">
&#160;</td><td class="memItemRight" valign="bottom"><b>Job</b> ()=default</td></tr>
<tr class="memdesc:ad3919dba75c4130c8b6dd0ab31e9a461 inherit pub_methods_classjngl_1_1Job"><td class="mdescLeft">&#160;</td><td class="mdescRight">Does nothing. <br /></td></tr>
<tr class="separator:ad3919dba75c4130c8b6dd0ab31e9a461 inherit pub_methods_classjngl_1_1Job"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af6013bfb11fc1160c0206d5ac0ab0902 inherit pub_methods_classjngl_1_1Job" id="r_af6013bfb11fc1160c0206d5ac0ab0902"><td class="memItemLeft" align="right" valign="top">
&#160;</td><td class="memItemRight" valign="bottom"><b>Job</b> (const <a class="el" href="classjngl_1_1Job.html">Job</a> &amp;)=default</td></tr>
<tr class="memdesc:af6013bfb11fc1160c0206d5ac0ab0902 inherit pub_methods_classjngl_1_1Job"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copy constructor. <br /></td></tr>
<tr class="separator:af6013bfb11fc1160c0206d5ac0ab0902 inherit pub_methods_classjngl_1_1Job"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a50d5e9f0fb58e1fadfab2065eba1b8 inherit pub_methods_classjngl_1_1Job" id="r_a8a50d5e9f0fb58e1fadfab2065eba1b8"><td class="memItemLeft" align="right" valign="top">
<a class="el" href="classjngl_1_1Job.html">Job</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>operator=</b> (const <a class="el" href="classjngl_1_1Job.html">Job</a> &amp;)=default</td></tr>
<tr class="memdesc:a8a50d5e9f0fb58e1fadfab2065eba1b8 inherit pub_methods_classjngl_1_1Job"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copy assignment. <br /></td></tr>
<tr class="separator:a8a50d5e9f0fb58e1fadfab2065eba1b8 inherit pub_methods_classjngl_1_1Job"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa9ccc3a57c690756a2f2aa26d785f1c inherit pub_methods_classjngl_1_1Job" id="r_afa9ccc3a57c690756a2f2aa26d785f1c"><td class="memItemLeft" align="right" valign="top">
&#160;</td><td class="memItemRight" valign="bottom"><b>Job</b> (<a class="el" href="classjngl_1_1Job.html">Job</a> &amp;&amp;)=default</td></tr>
<tr class="memdesc:afa9ccc3a57c690756a2f2aa26d785f1c inherit pub_methods_classjngl_1_1Job"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classjngl_1_1Move.html">Move</a> constructor. <br /></td></tr>
<tr class="separator:afa9ccc3a57c690756a2f2aa26d785f1c inherit pub_methods_classjngl_1_1Job"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a67595f4341f676306ede243d3157a8d5 inherit pub_methods_classjngl_1_1Job" id="r_a67595f4341f676306ede243d3157a8d5"><td class="memItemLeft" align="right" valign="top">
<a class="el" href="classjngl_1_1Job.html">Job</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>operator=</b> (<a class="el" href="classjngl_1_1Job.html">Job</a> &amp;&amp;)=default</td></tr>
<tr class="memdesc:a67595f4341f676306ede243d3157a8d5 inherit pub_methods_classjngl_1_1Job"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classjngl_1_1Move.html">Move</a> assignment. <br /></td></tr>
<tr class="separator:a67595f4341f676306ede243d3157a8d5 inherit pub_methods_classjngl_1_1Job"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abd38672956b19a95da42323a278727ec inherit pub_methods_classjngl_1_1Job" id="r_abd38672956b19a95da42323a278727ec"><td class="memItemLeft" align="right" valign="top">
virtual&#160;</td><td class="memItemRight" valign="bottom"><b>~Job</b> ()</td></tr>
<tr class="memdesc:abd38672956b19a95da42323a278727ec inherit pub_methods_classjngl_1_1Job"><td class="mdescLeft">&#160;</td><td class="mdescRight">Does nothing. <br /></td></tr>
<tr class="separator:abd38672956b19a95da42323a278727ec inherit pub_methods_classjngl_1_1Job"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Records video and audio output to a file. </p>
<p><a class="el" href="classjngl_1_1VideoRecorder.html" title="Records video and audio output to a file.">VideoRecorder</a> is a background job that captures the rendered frames and audio samples to create a video file.</p>
<p>The recorder captures:</p><ul>
<li><a class="el" href="classjngl_1_1Video.html" title="Ogg Theory video file.">Video</a>: Frames are captured at the current window resolution and frame rate (<a class="el" href="namespacejngl.html#a06943dd8adf8a3d0ef639620df5dcad2" title="How many times Work::step is called per second (default: 60)">jngl::getStepsPerSecond()</a>)</li>
<li>Audio: Stereo audio at 44.1 kHz sample rate</li>
</ul>
<dl class="section note"><dt>Note</dt><dd>Recording requires JNGL to be compiled with JNGL_RECORD enabled and FFmpeg libraries available. Pass <code>-DJNGL_RECORD=1</code> to CMake during configuration. On macOS, install FFmpeg with <code>brew install ffmpeg</code>.</dd></dl>
<p>Example usage: </p><div class="fragment"><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="jngl_8hpp.html">jngl.hpp</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="init_8hpp.html">jngl/init.hpp</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;jngl/record/VideoRecorder.hpp&gt;</span></div>
<div class="line"> </div>
<div class="line"><a class="code hl_struct" href="structjngl_1_1AppParameters.html">jngl::AppParameters</a> <a class="code hl_function" href="init_8hpp.html#a2471fe7de5ef776522a016331b6bf6e5">jnglInit</a>() {</div>
<div class="line">    <a class="code hl_struct" href="structjngl_1_1AppParameters.html">jngl::AppParameters</a> params;</div>
<div class="line">    params.<a class="code hl_variable" href="structjngl_1_1AppParameters.html#ab8f3127de4b6ccfc51833c48f37c7e1c">start</a> = []() {</div>
<div class="line">        <span class="comment">// Start recording to output.mkv</span></div>
<div class="line">        <a class="code hl_function" href="namespacejngl.html#af4511ceb38d56c476938458af6bd98e6">jngl::addJob&lt;jngl::VideoRecorder&gt;</a>(<span class="stringliteral">&quot;output.mkv&quot;</span>);</div>
<div class="line">        <span class="comment">// Your scene setup here...</span></div>
<div class="line">    };</div>
<div class="line">    <span class="keywordflow">return</span> params;</div>
<div class="line">}</div>
<div class="ttc" id="ainit_8hpp_html"><div class="ttname"><a href="init_8hpp.html">init.hpp</a></div><div class="ttdoc">Include this file only once, as it defines the main function.</div></div>
<div class="ttc" id="ainit_8hpp_html_a2471fe7de5ef776522a016331b6bf6e5"><div class="ttname"><a href="init_8hpp.html#a2471fe7de5ef776522a016331b6bf6e5">jnglInit</a></div><div class="ttdeci">jngl::AppParameters jnglInit()</div><div class="ttdoc">Implement this function and set AppParameters::start.</div></div>
<div class="ttc" id="ajngl_8hpp_html"><div class="ttname"><a href="jngl_8hpp.html">jngl.hpp</a></div><div class="ttdoc">Includes all JNGL headers except for init.hpp.</div></div>
<div class="ttc" id="anamespacejngl_html_af4511ceb38d56c476938458af6bd98e6"><div class="ttname"><a href="namespacejngl.html#af4511ceb38d56c476938458af6bd98e6">jngl::addJob</a></div><div class="ttdeci">void addJob(std::shared_ptr&lt; Job &gt; job)</div><div class="ttdoc">Add a new Job which will be always be stepped and drawn by App::mainLoop()</div></div>
<div class="ttc" id="astructjngl_1_1AppParameters_html"><div class="ttname"><a href="structjngl_1_1AppParameters.html">jngl::AppParameters</a></div><div class="ttdoc">Parameters used to initialize the main window.</div><div class="ttdef"><b>Definition</b> <a href="AppParameters_8hpp_source.html#l00019">AppParameters.hpp:19</a></div></div>
<div class="ttc" id="astructjngl_1_1AppParameters_html_ab8f3127de4b6ccfc51833c48f37c7e1c"><div class="ttname"><a href="structjngl_1_1AppParameters.html#ab8f3127de4b6ccfc51833c48f37c7e1c">jngl::AppParameters::start</a></div><div class="ttdeci">std::function&lt; std::shared_ptr&lt; jngl::Work &gt;()&gt; start</div><div class="ttdoc">A factory function which creates the first jngl::Work.</div><div class="ttdef"><b>Definition</b> <a href="AppParameters_8hpp_source.html#l00021">AppParameters.hpp:21</a></div></div>
</div><!-- fragment --><p>The <a class="el" href="classjngl_1_1VideoRecorder.html" title="Records video and audio output to a file.">VideoRecorder</a> will automatically capture frames and audio as your application runs. Remove the job or let it go out of scope to finalize and close the video file.</p>
<dl class="section warning"><dt>Warning</dt><dd>During recording, the game will run at a slower wall-clock speed to ensure no frames are dropped. The video encoding is synchronous and the application waits for each frame to be encoded before proceeding. This means the game runs slower in real-time but produces a smooth video at the target frame rate. Audio playback is muted during recording since the game is not running at normal speed.</dd></dl>
<p>The video container is chosen based on the file extension you provide. For example:</p><ul>
<li><code>.mkv</code>: Matroska container</li>
<li><code>.mp4</code>: MP4 container</li>
</ul>
<p>By default, lossy codecs are used (H.264 for video, AAC for audio) to produce reasonably sized files. If you want lossless quality, pass true for the <em>lossless</em> parameter when creating the <a class="el" href="classjngl_1_1VideoRecorder.html" title="Records video and audio output to a file.">VideoRecorder</a>.</p>
<p>If you chose to use lossless, you would probably convert the resulting .mkv file to a compressed format later so you can upload it to Google Play or the Apple App Store. Use ffmpeg on the command line for that:</p>
<div class="fragment"><div class="line">ffmpeg -i foo.mkv \</div>
<div class="line">       -c:v libx264 \</div>
<div class="line">       -profile:v high \</div>
<div class="line">       -level 4.2 \</div>
<div class="line">       -pix_fmt yuv420p \</div>
<div class="line">       -r 30 \</div>
<div class="line">       -c:a aac \</div>
<div class="line">       -b:a 160k \</div>
<div class="line">       -movflags +faststart \</div>
<div class="line">       output.mp4</div>
</div><!-- fragment --><p>This command converts foo.mkv to output.mp4 using H.264 video codec and AAC audio codec. </p>

<p class="definition">Definition at line <a class="el" href="VideoRecorder_8hpp_source.html#l00076">76</a> of file <a class="el" href="VideoRecorder_8hpp_source.html">VideoRecorder.hpp</a>.</p>
</div><div class="dynheader">
Inheritance diagram for VideoRecorder:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classjngl_1_1VideoRecorder__inherit__graph.svg" width="136" height="111"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for VideoRecorder:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classjngl_1_1VideoRecorder__coll__graph.svg" width="136" height="111"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a06d5c2c5fc617f687418f79fda08954d" name="a06d5c2c5fc617f687418f79fda08954d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a06d5c2c5fc617f687418f79fda08954d">&#9670;&#160;</a></span>VideoRecorder()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classjngl_1_1VideoRecorder.html">VideoRecorder</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="elRef" href="http://en.cppreference.com/w/cpp/string/basic_string_view.html">std::string_view</a></td>          <td class="paramname"><span class="paramname"><em>filename</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>lossless</em></span><span class="paramdefsep"> = </span><span class="paramdefval">false</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Creates a new video recorder that writes to the specified file (saved in your data/ directory). </p>
<p>Initializes video and audio encoding with the following common settings:</p><ul>
<li>Frame rate: Current application frame rate (<a class="el" href="namespacejngl.html#a06943dd8adf8a3d0ef639620df5dcad2" title="How many times Work::step is called per second (default: 60)">jngl::getStepsPerSecond()</a>)</li>
<li>Resolution: Current window dimensions (<a class="el" href="namespacejngl.html#a8fc4938d1caca0f3230c1aa7acb9661b" title="Returns the width of the window in actual pixels (i.e.">jngl::getWindowWidth()</a> x <a class="el" href="namespacejngl.html#a943b811007cc700d5758b550e843518a" title="Returns the height of the window in actual pixels (i.e.">jngl::getWindowHeight()</a>)</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">filename</td><td>Path to the output video file. Use appropriate file extension (e.g., .mkv, .mp4) to select the container format. </td></tr>
    <tr><td class="paramname">lossless</td><td>If true, uses lossless codecs (FFV1 for video, FLAC for audio). If false, uses lossy codecs (H.264 for video, AAC for audio). Default is false. </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="elRef" href="http://en.cppreference.com/w/cpp/error/runtime_error.html">std::runtime_error</a></td><td>if video encoding setup fails (e.g., codecs not found, file cannot be opened) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a0be30f46baf034cd35917944a16c7757" name="a0be30f46baf034cd35917944a16c7757"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0be30f46baf034cd35917944a16c7757">&#9670;&#160;</a></span>~VideoRecorder()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">~<a class="el" href="classjngl_1_1VideoRecorder.html">VideoRecorder</a> </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Finalizes and closes the video file. </p>
<p>Flushes any remaining frames and audio data, writes the container trailer, and releases all encoding resources. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="ae6c526798a490afe221d1447f508f16a" name="ae6c526798a490afe221d1447f508f16a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae6c526798a490afe221d1447f508f16a">&#9670;&#160;</a></span>step()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void step </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Advance the game logic. </p>
<p>This function gets called 60 times per second or whatever has been set by <a class="el" href="namespacejngl.html#aa2222d84c7228e46ddb220bd543a5401" title="How many times Work::step should be called per second (default: 60)">setStepsPerSecond()</a>.</p>
<dl class="section note"><dt>Note</dt><dd>JNGL's main loop calls all Jobs' <a class="el" href="#ae6c526798a490afe221d1447f508f16a" title="Advance the game logic.">step()</a> functions before the active Scene's <a class="el" href="#ae6c526798a490afe221d1447f508f16a" title="Advance the game logic.">step()</a> </dd></dl>

<p>Implements <a class="el" href="classjngl_1_1Job.html#aa6f73ac7d5899119d156a0b3a27fba31">Job</a>.</p>

</div>
</div>
<a id="a35460413b5c663cd8a28ad3c80caaf71" name="a35460413b5c663cd8a28ad3c80caaf71"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a35460413b5c663cd8a28ad3c80caaf71">&#9670;&#160;</a></span>draw()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void draw </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Draw the game state. </p>
<p>As it isn't garuanteed that this function is called as often as <a class="el" href="classjngl_1_1Job.html#aa6f73ac7d5899119d156a0b3a27fba31" title="Advance the game logic.">Job::step</a>, you shouldn't change any game state in it.</p>
<dl class="section note"><dt>Note</dt><dd>JNGL's main loop calls all Jobs' <a class="el" href="#a35460413b5c663cd8a28ad3c80caaf71" title="Draw the game state.">draw()</a> functions after the active Scene's <a class="el" href="#a35460413b5c663cd8a28ad3c80caaf71" title="Draw the game state.">draw()</a> </dd></dl>

<p>Implements <a class="el" href="classjngl_1_1Job.html#a2bf282904f7854c8a4fd515107aa8c4e">Job</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>jngl/record/<a class="el" href="VideoRecorder_8hpp_source.html">VideoRecorder.hpp</a></li>
</ul>
</div><!-- contents -->
<!-- HTML footer for doxygen 1.9.1-->
<!-- start footer part -->
</body>
</html>
